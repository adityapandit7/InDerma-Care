{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\Documents\\\\GitHub\\\\InDerma-Care\\\\frontend\\\\src\\\\pages\\\\AdminPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport API from \"../utils/axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./AdminPage.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminPage = () => {\n  _s();\n  const [logs, setLogs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState({\n    totalLogs: 0,\n    todayLogs: 0,\n    uniqueUsers: 0,\n    uniqueHospitals: 0\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetchLogs();\n    calculateStats();\n  }, []);\n  const fetchLogs = async () => {\n    try {\n      const res = await API.get(\"/userlogs/all\");\n      setLogs(res.data);\n      setLoading(false);\n    } catch (err) {\n      alert(\"Access denied or error fetching logs\");\n      setLoading(false);\n    }\n  };\n  const calculateStats = () => {\n    // This would ideally come from your backend API\n    // For now, we'll calculate from the logs data\n    const today = new Date().toDateString();\n    const todayLogs = logs.filter(log => new Date(log.datetime).toDateString() === today);\n    const uniqueUsers = new Set(logs.map(log => {\n      var _log$user;\n      return (_log$user = log.user) === null || _log$user === void 0 ? void 0 : _log$user.email;\n    })).size;\n    const uniqueHospitals = new Set(logs.map(log => log.hospital)).size;\n    setStats({\n      totalLogs: logs.length,\n      todayLogs: todayLogs.length,\n      uniqueUsers,\n      uniqueHospitals\n    });\n  };\n  const handleDeleteLog = async logId => {\n    if (window.confirm(\"Are you sure you want to delete this log?\")) {\n      try {\n        await API.delete(`/userlogs/${logId}`);\n        alert(\"Log deleted successfully!\");\n        fetchLogs(); // Refresh the list\n      } catch (err) {\n        alert(\"Error deleting log\");\n      }\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"role\");\n    alert(\"Logged out successfully!\");\n    navigate(\"/\");\n  };\n  const exportToCSV = () => {\n    const headers = [\"#\", \"User\", \"Email\", \"Headquarters\", \"Address\", \"Hospital/Pharmacy\", \"Doctor\", \"Latitude\", \"Longitude\", \"Date & Time\"];\n    const csvData = logs.map((log, index) => {\n      var _log$user2, _log$user3, _log$geoLocation, _log$geoLocation2;\n      return [index + 1, ((_log$user2 = log.user) === null || _log$user2 === void 0 ? void 0 : _log$user2.name) || \"N/A\", ((_log$user3 = log.user) === null || _log$user3 === void 0 ? void 0 : _log$user3.email) || \"N/A\", log.headquarters, log.address, log.hospital, log.doctor, ((_log$geoLocation = log.geoLocation) === null || _log$geoLocation === void 0 ? void 0 : _log$geoLocation.lat) || \"N/A\", ((_log$geoLocation2 = log.geoLocation) === null || _log$geoLocation2 === void 0 ? void 0 : _log$geoLocation2.lon) || \"N/A\", new Date(log.datetime).toLocaleString()];\n    });\n    const csvContent = [headers.join(\",\"), ...csvData.map(row => row.map(field => `\"${field}\"`).join(\",\"))].join(\"\\n\");\n    const blob = new Blob([csvContent], {\n      type: \"text/csv\"\n    });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.download = `user_logs_${new Date().toISOString().split('T')[0]}.csv`;\n    link.click();\n    URL.revokeObjectURL(url);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-page-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Admin Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Manage and monitor all user submissions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: exportToCSV,\n          className: \"export-btn\",\n          children: \"Export CSV\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-btn\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stats-grid\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon total\",\n          children: \"\\uD83D\\uDCCA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: stats.totalLogs\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Total Submissions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon today\",\n          children: \"\\uD83D\\uDCC5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: stats.todayLogs\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Today's Submissions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon users\",\n          children: \"\\uD83D\\uDC65\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: stats.uniqueUsers\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Unique Users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stat-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-icon hospital\",\n          children: \"\\uD83C\\uDFE5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: stats.uniqueHospitals\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Unique Hospitals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"table-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"User Submissions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"table-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"total-count\",\n            children: [logs.length, \" records\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchLogs,\n            className: \"refresh-btn\",\n            children: \"\\uD83D\\uDD04 Refresh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"user-logs-table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"#\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Headquarters\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 181,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Hospital/Pharmacy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Doctor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date & Time\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Actions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: logs.length > 0 ? logs.map((log, index) => {\n              var _log$user4, _log$user5, _log$geoLocation3, _log$geoLocation4;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"text-center\",\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"user-info\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"user-name\",\n                      children: ((_log$user4 = log.user) === null || _log$user4 === void 0 ? void 0 : _log$user4.name) || \"N/A\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 196,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 195,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"email-cell\",\n                    children: ((_log$user5 = log.user) === null || _log$user5 === void 0 ? void 0 : _log$user5.email) || \"N/A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"badge\",\n                    children: log.headquarters\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"address-cell\",\n                  children: log.address\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: log.hospital\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: log.doctor\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: (_log$geoLocation3 = log.geoLocation) !== null && _log$geoLocation3 !== void 0 && _log$geoLocation3.lat && (_log$geoLocation4 = log.geoLocation) !== null && _log$geoLocation4 !== void 0 && _log$geoLocation4.lon ? /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `https://maps.google.com/?q=${log.geoLocation.lat},${log.geoLocation.lon}`,\n                    target: \"_blank\",\n                    rel: \"noopener noreferrer\",\n                    className: \"map-link\",\n                    children: \"View Map\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 210,\n                    columnNumber: 25\n                  }, this) : \"N/A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"datetime-cell\",\n                    children: new Date(log.datetime).toLocaleString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleDeleteLog(log._id),\n                    className: \"delete-btn\",\n                    title: \"Delete Record\",\n                    children: \"\\uD83D\\uDDD1\\uFE0F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 21\n                }, this)]\n              }, log._id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 19\n              }, this);\n            }) : /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"10\",\n                className: \"no-data\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"no-data-content\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"No records found\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: fetchLogs,\n                    className: \"retry-btn\",\n                    children: \"Try Again\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 243,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminPage, \"Mw9Yrj8xG1uAIDWpP1PRwVSiVas=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminPage;\nexport default AdminPage;\nvar _c;\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"names":["React","useEffect","useState","API","useNavigate","jsxDEV","_jsxDEV","AdminPage","_s","logs","setLogs","loading","setLoading","stats","setStats","totalLogs","todayLogs","uniqueUsers","uniqueHospitals","navigate","fetchLogs","calculateStats","res","get","data","err","alert","today","Date","toDateString","filter","log","datetime","Set","map","_log$user","user","email","size","hospital","length","handleDeleteLog","logId","window","confirm","delete","handleLogout","localStorage","removeItem","exportToCSV","headers","csvData","index","_log$user2","_log$user3","_log$geoLocation","_log$geoLocation2","name","headquarters","address","doctor","geoLocation","lat","lon","toLocaleString","csvContent","join","row","field","blob","Blob","type","url","URL","createObjectURL","link","document","createElement","href","download","toISOString","split","click","revokeObjectURL","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_log$user4","_log$user5","_log$geoLocation3","_log$geoLocation4","target","rel","_id","title","colSpan","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/Documents/GitHub/InDerma-Care/frontend/src/pages/AdminPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport API from \"../utils/axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./AdminPage.css\";\r\n\r\nconst AdminPage = () => {\r\n  const [logs, setLogs] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [stats, setStats] = useState({\r\n    totalLogs: 0,\r\n    todayLogs: 0,\r\n    uniqueUsers: 0,\r\n    uniqueHospitals: 0\r\n  });\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetchLogs();\r\n    calculateStats();\r\n  }, []);\r\n\r\n  const fetchLogs = async () => {\r\n    try {\r\n      const res = await API.get(\"/userlogs/all\");\r\n      setLogs(res.data);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      alert(\"Access denied or error fetching logs\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const calculateStats = () => {\r\n    // This would ideally come from your backend API\r\n    // For now, we'll calculate from the logs data\r\n    const today = new Date().toDateString();\r\n    const todayLogs = logs.filter(log => \r\n      new Date(log.datetime).toDateString() === today\r\n    );\r\n    \r\n    const uniqueUsers = new Set(logs.map(log => log.user?.email)).size;\r\n    const uniqueHospitals = new Set(logs.map(log => log.hospital)).size;\r\n\r\n    setStats({\r\n      totalLogs: logs.length,\r\n      todayLogs: todayLogs.length,\r\n      uniqueUsers,\r\n      uniqueHospitals\r\n    });\r\n  };\r\n\r\n  const handleDeleteLog = async (logId) => {\r\n    if (window.confirm(\"Are you sure you want to delete this log?\")) {\r\n      try {\r\n        await API.delete(`/userlogs/${logId}`);\r\n        alert(\"Log deleted successfully!\");\r\n        fetchLogs(); // Refresh the list\r\n      } catch (err) {\r\n        alert(\"Error deleting log\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"role\");\r\n    alert(\"Logged out successfully!\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  const exportToCSV = () => {\r\n    const headers = [\"#\", \"User\", \"Email\", \"Headquarters\", \"Address\", \"Hospital/Pharmacy\", \"Doctor\", \"Latitude\", \"Longitude\", \"Date & Time\"];\r\n    const csvData = logs.map((log, index) => [\r\n      index + 1,\r\n      log.user?.name || \"N/A\",\r\n      log.user?.email || \"N/A\",\r\n      log.headquarters,\r\n      log.address,\r\n      log.hospital,\r\n      log.doctor,\r\n      log.geoLocation?.lat || \"N/A\",\r\n      log.geoLocation?.lon || \"N/A\",\r\n      new Date(log.datetime).toLocaleString()\r\n    ]);\r\n\r\n    const csvContent = [\r\n      headers.join(\",\"),\r\n      ...csvData.map(row => row.map(field => `\"${field}\"`).join(\",\"))\r\n    ].join(\"\\n\");\r\n\r\n    const blob = new Blob([csvContent], { type: \"text/csv\" });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.download = `user_logs_${new Date().toISOString().split('T')[0]}.csv`;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"admin-page-container\">\r\n        <div className=\"loading\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-page-container\">\r\n      {/* Header */}\r\n      <div className=\"admin-header\">\r\n        <div>\r\n          <h1>Admin Dashboard</h1>\r\n          <p>Manage and monitor all user submissions</p>\r\n        </div>\r\n        <div className=\"header-actions\">\r\n          <button onClick={exportToCSV} className=\"export-btn\">\r\n            Export CSV\r\n          </button>\r\n          <button onClick={handleLogout} className=\"logout-btn\">\r\n            Logout\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Statistics Cards */}\r\n      <div className=\"stats-grid\">\r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon total\">üìä</div>\r\n          <div className=\"stat-info\">\r\n            <h3>{stats.totalLogs}</h3>\r\n            <p>Total Submissions</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon today\">üìÖ</div>\r\n          <div className=\"stat-info\">\r\n            <h3>{stats.todayLogs}</h3>\r\n            <p>Today's Submissions</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon users\">üë•</div>\r\n          <div className=\"stat-info\">\r\n            <h3>{stats.uniqueUsers}</h3>\r\n            <p>Unique Users</p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"stat-card\">\r\n          <div className=\"stat-icon hospital\">üè•</div>\r\n          <div className=\"stat-info\">\r\n            <h3>{stats.uniqueHospitals}</h3>\r\n            <p>Unique Hospitals</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Logs Table */}\r\n      <div className=\"table-container\">\r\n        <div className=\"table-header\">\r\n          <h2>User Submissions</h2>\r\n          <div className=\"table-actions\">\r\n            <span className=\"total-count\">{logs.length} records</span>\r\n            <button onClick={fetchLogs} className=\"refresh-btn\">\r\n              üîÑ Refresh\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"table-wrapper\">\r\n          <table className=\"user-logs-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>#</th>\r\n                <th>User</th>\r\n                <th>Email</th>\r\n                <th>Headquarters</th>\r\n                <th>Address</th>\r\n                <th>Hospital/Pharmacy</th>\r\n                <th>Doctor</th>\r\n                <th>Location</th>\r\n                <th>Date & Time</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {logs.length > 0 ? (\r\n                logs.map((log, index) => (\r\n                  <tr key={log._id}>\r\n                    <td className=\"text-center\">{index + 1}</td>\r\n                    <td>\r\n                      <div className=\"user-info\">\r\n                        <div className=\"user-name\">{log.user?.name || \"N/A\"}</div>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"email-cell\">{log.user?.email || \"N/A\"}</div>\r\n                    </td>\r\n                    <td>\r\n                      <span className=\"badge\">{log.headquarters}</span>\r\n                    </td>\r\n                    <td className=\"address-cell\">{log.address}</td>\r\n                    <td>{log.hospital}</td>\r\n                    <td>{log.doctor}</td>\r\n                    <td>\r\n                      {log.geoLocation?.lat && log.geoLocation?.lon ? (\r\n                        <a\r\n                          href={`https://maps.google.com/?q=${log.geoLocation.lat},${log.geoLocation.lon}`}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"map-link\"\r\n                        >\r\n                          View Map\r\n                        </a>\r\n                      ) : (\r\n                        \"N/A\"\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"datetime-cell\">\r\n                        {new Date(log.datetime).toLocaleString()}\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <button\r\n                        onClick={() => handleDeleteLog(log._id)}\r\n                        className=\"delete-btn\"\r\n                        title=\"Delete Record\"\r\n                      >\r\n                        üóëÔ∏è\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan=\"10\" className=\"no-data\">\r\n                    <div className=\"no-data-content\">\r\n                      <p>No records found</p>\r\n                      <button onClick={fetchLogs} className=\"retry-btn\">\r\n                        Try Again\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,GAAG,MAAM,gBAAgB;AAChC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzB,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACtB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC;IACjCa,SAAS,EAAE,CAAC;IACZC,SAAS,EAAE,CAAC;IACZC,WAAW,EAAE,CAAC;IACdC,eAAe,EAAE;EACnB,CAAC,CAAC;EACF,MAAMC,QAAQ,GAAGf,WAAW,CAAC,CAAC;EAE9BH,SAAS,CAAC,MAAM;IACdmB,SAAS,CAAC,CAAC;IACXC,cAAc,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMD,SAAS,GAAG,MAAAA,CAAA,KAAY;IAC5B,IAAI;MACF,MAAME,GAAG,GAAG,MAAMnB,GAAG,CAACoB,GAAG,CAAC,eAAe,CAAC;MAC1Cb,OAAO,CAACY,GAAG,CAACE,IAAI,CAAC;MACjBZ,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOa,GAAG,EAAE;MACZC,KAAK,CAAC,sCAAsC,CAAC;MAC7Cd,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMS,cAAc,GAAGA,CAAA,KAAM;IAC3B;IACA;IACA,MAAMM,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,YAAY,CAAC,CAAC;IACvC,MAAMb,SAAS,GAAGP,IAAI,CAACqB,MAAM,CAACC,GAAG,IAC/B,IAAIH,IAAI,CAACG,GAAG,CAACC,QAAQ,CAAC,CAACH,YAAY,CAAC,CAAC,KAAKF,KAC5C,CAAC;IAED,MAAMV,WAAW,GAAG,IAAIgB,GAAG,CAACxB,IAAI,CAACyB,GAAG,CAACH,GAAG;MAAA,IAAAI,SAAA;MAAA,QAAAA,SAAA,GAAIJ,GAAG,CAACK,IAAI,cAAAD,SAAA,uBAARA,SAAA,CAAUE,KAAK;IAAA,EAAC,CAAC,CAACC,IAAI;IAClE,MAAMpB,eAAe,GAAG,IAAIe,GAAG,CAACxB,IAAI,CAACyB,GAAG,CAACH,GAAG,IAAIA,GAAG,CAACQ,QAAQ,CAAC,CAAC,CAACD,IAAI;IAEnExB,QAAQ,CAAC;MACPC,SAAS,EAAEN,IAAI,CAAC+B,MAAM;MACtBxB,SAAS,EAAEA,SAAS,CAACwB,MAAM;MAC3BvB,WAAW;MACXC;IACF,CAAC,CAAC;EACJ,CAAC;EAED,MAAMuB,eAAe,GAAG,MAAOC,KAAK,IAAK;IACvC,IAAIC,MAAM,CAACC,OAAO,CAAC,2CAA2C,CAAC,EAAE;MAC/D,IAAI;QACF,MAAMzC,GAAG,CAAC0C,MAAM,CAAC,aAAaH,KAAK,EAAE,CAAC;QACtChB,KAAK,CAAC,2BAA2B,CAAC;QAClCN,SAAS,CAAC,CAAC,CAAC,CAAC;MACf,CAAC,CAAC,OAAOK,GAAG,EAAE;QACZC,KAAK,CAAC,oBAAoB,CAAC;MAC7B;IACF;EACF,CAAC;EAED,MAAMoB,YAAY,GAAGA,CAAA,KAAM;IACzBC,YAAY,CAACC,UAAU,CAAC,OAAO,CAAC;IAChCD,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IAC/BtB,KAAK,CAAC,0BAA0B,CAAC;IACjCP,QAAQ,CAAC,GAAG,CAAC;EACf,CAAC;EAED,MAAM8B,WAAW,GAAGA,CAAA,KAAM;IACxB,MAAMC,OAAO,GAAG,CAAC,GAAG,EAAE,MAAM,EAAE,OAAO,EAAE,cAAc,EAAE,SAAS,EAAE,mBAAmB,EAAE,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,aAAa,CAAC;IACxI,MAAMC,OAAO,GAAG1C,IAAI,CAACyB,GAAG,CAAC,CAACH,GAAG,EAAEqB,KAAK;MAAA,IAAAC,UAAA,EAAAC,UAAA,EAAAC,gBAAA,EAAAC,iBAAA;MAAA,OAAK,CACvCJ,KAAK,GAAG,CAAC,EACT,EAAAC,UAAA,GAAAtB,GAAG,CAACK,IAAI,cAAAiB,UAAA,uBAARA,UAAA,CAAUI,IAAI,KAAI,KAAK,EACvB,EAAAH,UAAA,GAAAvB,GAAG,CAACK,IAAI,cAAAkB,UAAA,uBAARA,UAAA,CAAUjB,KAAK,KAAI,KAAK,EACxBN,GAAG,CAAC2B,YAAY,EAChB3B,GAAG,CAAC4B,OAAO,EACX5B,GAAG,CAACQ,QAAQ,EACZR,GAAG,CAAC6B,MAAM,EACV,EAAAL,gBAAA,GAAAxB,GAAG,CAAC8B,WAAW,cAAAN,gBAAA,uBAAfA,gBAAA,CAAiBO,GAAG,KAAI,KAAK,EAC7B,EAAAN,iBAAA,GAAAzB,GAAG,CAAC8B,WAAW,cAAAL,iBAAA,uBAAfA,iBAAA,CAAiBO,GAAG,KAAI,KAAK,EAC7B,IAAInC,IAAI,CAACG,GAAG,CAACC,QAAQ,CAAC,CAACgC,cAAc,CAAC,CAAC,CACxC;IAAA,EAAC;IAEF,MAAMC,UAAU,GAAG,CACjBf,OAAO,CAACgB,IAAI,CAAC,GAAG,CAAC,EACjB,GAAGf,OAAO,CAACjB,GAAG,CAACiC,GAAG,IAAIA,GAAG,CAACjC,GAAG,CAACkC,KAAK,IAAI,IAAIA,KAAK,GAAG,CAAC,CAACF,IAAI,CAAC,GAAG,CAAC,CAAC,CAChE,CAACA,IAAI,CAAC,IAAI,CAAC;IAEZ,MAAMG,IAAI,GAAG,IAAIC,IAAI,CAAC,CAACL,UAAU,CAAC,EAAE;MAAEM,IAAI,EAAE;IAAW,CAAC,CAAC;IACzD,MAAMC,GAAG,GAAGC,GAAG,CAACC,eAAe,CAACL,IAAI,CAAC;IACrC,MAAMM,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;IACxCF,IAAI,CAACG,IAAI,GAAGN,GAAG;IACfG,IAAI,CAACI,QAAQ,GAAG,aAAa,IAAInD,IAAI,CAAC,CAAC,CAACoD,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM;IACzEN,IAAI,CAACO,KAAK,CAAC,CAAC;IACZT,GAAG,CAACU,eAAe,CAACX,GAAG,CAAC;EAC1B,CAAC;EAED,IAAI7D,OAAO,EAAE;IACX,oBACEL,OAAA;MAAK8E,SAAS,EAAC,sBAAsB;MAAAC,QAAA,eACnC/E,OAAA;QAAK8E,SAAS,EAAC,SAAS;QAAAC,QAAA,EAAC;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACtC,CAAC;EAEV;EAEA,oBACEnF,OAAA;IAAK8E,SAAS,EAAC,sBAAsB;IAAAC,QAAA,gBAEnC/E,OAAA;MAAK8E,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAC3B/E,OAAA;QAAA+E,QAAA,gBACE/E,OAAA;UAAA+E,QAAA,EAAI;QAAe;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxBnF,OAAA;UAAA+E,QAAA,EAAG;QAAuC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC3C,CAAC,eACNnF,OAAA;QAAK8E,SAAS,EAAC,gBAAgB;QAAAC,QAAA,gBAC7B/E,OAAA;UAAQoF,OAAO,EAAEzC,WAAY;UAACmC,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAErD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTnF,OAAA;UAAQoF,OAAO,EAAE5C,YAAa;UAACsC,SAAS,EAAC,YAAY;UAAAC,QAAA,EAAC;QAEtD;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNnF,OAAA;MAAK8E,SAAS,EAAC,YAAY;MAAAC,QAAA,gBACzB/E,OAAA;QAAK8E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB/E,OAAA;UAAK8E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACzCnF,OAAA;UAAK8E,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxB/E,OAAA;YAAA+E,QAAA,EAAKxE,KAAK,CAACE;UAAS;YAAAuE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1BnF,OAAA;YAAA+E,QAAA,EAAG;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACrB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENnF,OAAA;QAAK8E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB/E,OAAA;UAAK8E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACzCnF,OAAA;UAAK8E,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxB/E,OAAA;YAAA+E,QAAA,EAAKxE,KAAK,CAACG;UAAS;YAAAsE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC1BnF,OAAA;YAAA+E,QAAA,EAAG;UAAmB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENnF,OAAA;QAAK8E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB/E,OAAA;UAAK8E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eACzCnF,OAAA;UAAK8E,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxB/E,OAAA;YAAA+E,QAAA,EAAKxE,KAAK,CAACI;UAAW;YAAAqE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC5BnF,OAAA;YAAA+E,QAAA,EAAG;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENnF,OAAA;QAAK8E,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACxB/E,OAAA;UAAK8E,SAAS,EAAC,oBAAoB;UAAAC,QAAA,EAAC;QAAE;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,eAC5CnF,OAAA;UAAK8E,SAAS,EAAC,WAAW;UAAAC,QAAA,gBACxB/E,OAAA;YAAA+E,QAAA,EAAKxE,KAAK,CAACK;UAAe;YAAAoE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAChCnF,OAAA;YAAA+E,QAAA,EAAG;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNnF,OAAA;MAAK8E,SAAS,EAAC,iBAAiB;MAAAC,QAAA,gBAC9B/E,OAAA;QAAK8E,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3B/E,OAAA;UAAA+E,QAAA,EAAI;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACzBnF,OAAA;UAAK8E,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5B/E,OAAA;YAAM8E,SAAS,EAAC,aAAa;YAAAC,QAAA,GAAE5E,IAAI,CAAC+B,MAAM,EAAC,UAAQ;UAAA;YAAA8C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC1DnF,OAAA;YAAQoF,OAAO,EAAEtE,SAAU;YAACgE,SAAS,EAAC,aAAa;YAAAC,QAAA,EAAC;UAEpD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENnF,OAAA;QAAK8E,SAAS,EAAC,eAAe;QAAAC,QAAA,eAC5B/E,OAAA;UAAO8E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAChC/E,OAAA;YAAA+E,QAAA,eACE/E,OAAA;cAAA+E,QAAA,gBACE/E,OAAA;gBAAA+E,QAAA,EAAI;cAAC;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACVnF,OAAA;gBAAA+E,QAAA,EAAI;cAAI;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACbnF,OAAA;gBAAA+E,QAAA,EAAI;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACdnF,OAAA;gBAAA+E,QAAA,EAAI;cAAY;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACrBnF,OAAA;gBAAA+E,QAAA,EAAI;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAChBnF,OAAA;gBAAA+E,QAAA,EAAI;cAAiB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC1BnF,OAAA;gBAAA+E,QAAA,EAAI;cAAM;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACfnF,OAAA;gBAAA+E,QAAA,EAAI;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACjBnF,OAAA;gBAAA+E,QAAA,EAAI;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACpBnF,OAAA;gBAAA+E,QAAA,EAAI;cAAO;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACd;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA,CAAC,eACRnF,OAAA;YAAA+E,QAAA,EACG5E,IAAI,CAAC+B,MAAM,GAAG,CAAC,GACd/B,IAAI,CAACyB,GAAG,CAAC,CAACH,GAAG,EAAEqB,KAAK;cAAA,IAAAuC,UAAA,EAAAC,UAAA,EAAAC,iBAAA,EAAAC,iBAAA;cAAA,oBAClBxF,OAAA;gBAAA+E,QAAA,gBACE/E,OAAA;kBAAI8E,SAAS,EAAC,aAAa;kBAAAC,QAAA,EAAEjC,KAAK,GAAG;gBAAC;kBAAAkC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC5CnF,OAAA;kBAAA+E,QAAA,eACE/E,OAAA;oBAAK8E,SAAS,EAAC,WAAW;oBAAAC,QAAA,eACxB/E,OAAA;sBAAK8E,SAAS,EAAC,WAAW;sBAAAC,QAAA,EAAE,EAAAM,UAAA,GAAA5D,GAAG,CAACK,IAAI,cAAAuD,UAAA,uBAARA,UAAA,CAAUlC,IAAI,KAAI;oBAAK;sBAAA6B,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAM;kBAAC;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACvD;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACLnF,OAAA;kBAAA+E,QAAA,eACE/E,OAAA;oBAAK8E,SAAS,EAAC,YAAY;oBAAAC,QAAA,EAAE,EAAAO,UAAA,GAAA7D,GAAG,CAACK,IAAI,cAAAwD,UAAA,uBAARA,UAAA,CAAUvD,KAAK,KAAI;kBAAK;oBAAAiD,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAM;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC1D,CAAC,eACLnF,OAAA;kBAAA+E,QAAA,eACE/E,OAAA;oBAAM8E,SAAS,EAAC,OAAO;oBAAAC,QAAA,EAAEtD,GAAG,CAAC2B;kBAAY;oBAAA4B,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAO;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAC/C,CAAC,eACLnF,OAAA;kBAAI8E,SAAS,EAAC,cAAc;kBAAAC,QAAA,EAAEtD,GAAG,CAAC4B;gBAAO;kBAAA2B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eAC/CnF,OAAA;kBAAA+E,QAAA,EAAKtD,GAAG,CAACQ;gBAAQ;kBAAA+C,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACvBnF,OAAA;kBAAA+E,QAAA,EAAKtD,GAAG,CAAC6B;gBAAM;kBAAA0B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAK,CAAC,eACrBnF,OAAA;kBAAA+E,QAAA,EACG,CAAAQ,iBAAA,GAAA9D,GAAG,CAAC8B,WAAW,cAAAgC,iBAAA,eAAfA,iBAAA,CAAiB/B,GAAG,KAAAgC,iBAAA,GAAI/D,GAAG,CAAC8B,WAAW,cAAAiC,iBAAA,eAAfA,iBAAA,CAAiB/B,GAAG,gBAC3CzD,OAAA;oBACEwE,IAAI,EAAE,8BAA8B/C,GAAG,CAAC8B,WAAW,CAACC,GAAG,IAAI/B,GAAG,CAAC8B,WAAW,CAACE,GAAG,EAAG;oBACjFgC,MAAM,EAAC,QAAQ;oBACfC,GAAG,EAAC,qBAAqB;oBACzBZ,SAAS,EAAC,UAAU;oBAAAC,QAAA,EACrB;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,GAEJ;gBACD;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACC,CAAC,eACLnF,OAAA;kBAAA+E,QAAA,eACE/E,OAAA;oBAAK8E,SAAS,EAAC,eAAe;oBAAAC,QAAA,EAC3B,IAAIzD,IAAI,CAACG,GAAG,CAACC,QAAQ,CAAC,CAACgC,cAAc,CAAC;kBAAC;oBAAAsB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACrC;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACJ,CAAC,eACLnF,OAAA;kBAAA+E,QAAA,eACE/E,OAAA;oBACEoF,OAAO,EAAEA,CAAA,KAAMjD,eAAe,CAACV,GAAG,CAACkE,GAAG,CAAE;oBACxCb,SAAS,EAAC,YAAY;oBACtBc,KAAK,EAAC,eAAe;oBAAAb,QAAA,EACtB;kBAED;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACP,CAAC;cAAA,GA3CE1D,GAAG,CAACkE,GAAG;gBAAAX,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OA4CZ,CAAC;YAAA,CACN,CAAC,gBAEFnF,OAAA;cAAA+E,QAAA,eACE/E,OAAA;gBAAI6F,OAAO,EAAC,IAAI;gBAACf,SAAS,EAAC,SAAS;gBAAAC,QAAA,eAClC/E,OAAA;kBAAK8E,SAAS,EAAC,iBAAiB;kBAAAC,QAAA,gBAC9B/E,OAAA;oBAAA+E,QAAA,EAAG;kBAAgB;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAG,CAAC,eACvBnF,OAAA;oBAAQoF,OAAO,EAAEtE,SAAU;oBAACgE,SAAS,EAAC,WAAW;oBAAAC,QAAA,EAAC;kBAElD;oBAAAC,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAAQ,CAAC;gBAAA;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACN;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACJ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH;UACL;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACI,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACjF,EAAA,CA1PID,SAAS;EAAA,QASIH,WAAW;AAAA;AAAAgG,EAAA,GATxB7F,SAAS;AA4Pf,eAAeA,SAAS;AAAC,IAAA6F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
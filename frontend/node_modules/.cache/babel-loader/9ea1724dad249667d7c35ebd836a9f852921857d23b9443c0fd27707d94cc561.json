{"ast":null,"code":"var _jsxFileName = \"D:\\\\pharma-website\\\\frontend\\\\src\\\\pages\\\\UserPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport API from \"../utils/axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserPage() {\n  _s();\n  const [datetime, setDatetime] = useState(\"\");\n  const [hq, setHq] = useState(\"Kathmandu\");\n  const [address, setAddress] = useState(\"\");\n  const [hospital, setHospital] = useState(\"\");\n  const [doctor, setDoctor] = useState(\"\");\n  const [geo, setGeo] = useState({\n    lat: null,\n    lon: null\n  });\n  const navigate = useNavigate();\n  useEffect(() => {\n    setDatetime(new Date().toLocaleString());\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(pos => setGeo({\n        lat: pos.coords.latitude,\n        lon: pos.coords.longitude\n      }), err => console.error(\"Geo error\", err));\n    }\n  }, []);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      await API.post(\"/userlogs\", {\n        headquarters: hq,\n        address,\n        hospital,\n        doctor,\n        geoLocation: geo\n      });\n      alert(\"Saved successfully\");\n      setAddress(\"\");\n      setHospital(\"\");\n      setDoctor(\"\");\n      navigate(\"/\");\n    } catch (err) {\n      var _err$response, _err$response$data;\n      alert(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || \"Error saving\");\n    }\n  };\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    navigate(\"/\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold\",\n        children: \"User Page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleLogout,\n        className: \"bg-red-500 text-white px-3 py-1 rounded\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"max-w-lg space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block font-semibold\",\n          children: \"Date & Time\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: datetime,\n          disabled: true,\n          className: \"border p-2 rounded w-full bg-gray-100\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block font-semibold\",\n          children: \"Headquarters\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: hq,\n          onChange: e => setHq(e.target.value),\n          className: \"border p-2 rounded w-full\",\n          children: [\"Kathmandu\", \"Biratnagar\", \"Janakpur\", \"Lahan\", \"Birgunj\", \"Pokhara\", \"Butwal\", \"Narayanghat\"].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: x,\n            children: x\n          }, x, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 111\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block font-semibold\",\n          children: \"Address (Location)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          value: address,\n          onChange: e => setAddress(e.target.value),\n          className: \"border p-2 rounded w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block font-semibold\",\n          children: \"Hospital / Pharmacy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          value: hospital,\n          onChange: e => setHospital(e.target.value),\n          className: \"border p-2 rounded w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block font-semibold\",\n          children: \"Doctor's Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          value: doctor,\n          onChange: e => setDoctor(e.target.value),\n          className: \"border p-2 rounded w-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"bg-blue-500 text-white px-4 py-2 rounded\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n_s(UserPage, \"s4lV+cb34gX/eX+hnMU8YhL7tX4=\", false, function () {\n  return [useNavigate];\n});\n_c = UserPage;\nvar _c;\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"names":["React","useEffect","useState","API","useNavigate","jsxDEV","_jsxDEV","UserPage","_s","datetime","setDatetime","hq","setHq","address","setAddress","hospital","setHospital","doctor","setDoctor","geo","setGeo","lat","lon","navigate","Date","toLocaleString","navigator","geolocation","getCurrentPosition","pos","coords","latitude","longitude","err","console","error","handleSubmit","e","preventDefault","post","headquarters","geoLocation","alert","_err$response","_err$response$data","response","data","message","handleLogout","localStorage","removeItem","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","type","value","disabled","onChange","target","map","x","required","_c","$RefreshReg$"],"sources":["D:/pharma-website/frontend/src/pages/UserPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport API from \"../utils/axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport default function UserPage() {\r\n  const [datetime,setDatetime]=useState(\"\");\r\n  const [hq,setHq]=useState(\"Kathmandu\");\r\n  const [address,setAddress]=useState(\"\");\r\n  const [hospital,setHospital]=useState(\"\");\r\n  const [doctor,setDoctor]=useState(\"\");\r\n  const [geo,setGeo]=useState({lat:null,lon:null});\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(()=> {\r\n    setDatetime(new Date().toLocaleString());\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(\r\n        pos => setGeo({ lat: pos.coords.latitude, lon: pos.coords.longitude }),\r\n        err => console.error(\"Geo error\", err)\r\n      );\r\n    }\r\n  },[]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await API.post(\"/userlogs\", {\r\n        headquarters: hq,\r\n        address,\r\n        hospital,\r\n        doctor,\r\n        geoLocation: geo\r\n      });\r\n      alert(\"Saved successfully\");\r\n      setAddress(\"\"); setHospital(\"\"); setDoctor(\"\");\r\n      navigate(\"/\");\r\n    } catch (err) {\r\n      alert(err.response?.data?.message || \"Error saving\");\r\n    }\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    navigate(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-3xl font-bold\">User Page</h1>\r\n        <button onClick={handleLogout} className=\"bg-red-500 text-white px-3 py-1 rounded\">Logout</button>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit} className=\"max-w-lg space-y-4\">\r\n        <div>\r\n          <label className=\"block font-semibold\">Date & Time</label>\r\n          <input type=\"text\" value={datetime} disabled className=\"border p-2 rounded w-full bg-gray-100\" />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold\">Headquarters</label>\r\n          <select value={hq} onChange={e=>setHq(e.target.value)} className=\"border p-2 rounded w-full\">\r\n            {[\"Kathmandu\",\"Biratnagar\",\"Janakpur\",\"Lahan\",\"Birgunj\",\"Pokhara\",\"Butwal\",\"Narayanghat\"].map(x=> <option key={x} value={x}>{x}</option>)}\r\n          </select>\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold\">Address (Location)</label>\r\n          <input required value={address} onChange={e=>setAddress(e.target.value)} className=\"border p-2 rounded w-full\" />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold\">Hospital / Pharmacy</label>\r\n          <input required value={hospital} onChange={e=>setHospital(e.target.value)} className=\"border p-2 rounded w-full\" />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block font-semibold\">Doctor's Name</label>\r\n          <input required value={doctor} onChange={e=>setDoctor(e.target.value)} className=\"border p-2 rounded w-full\" />\r\n        </div>\r\n\r\n        <button type=\"submit\" className=\"bg-blue-500 text-white px-4 py-2 rounded\">Submit</button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}